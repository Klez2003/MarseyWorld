{% extends "default.html" %}
{% block pagetitle %}Admin Home{% endblock %}
{% block customPadding %}px-3{% endblock %}
{% block content %}
	<h3 class="py-2">Admin Tools</h3>

	{% if v.admin_level >= PERMS['INSERT_TRANSACTION'] %}
		<h4>Transactions</h4>
		<ul>
			<li><a href="/admin/insert_transaction">Insert Transaction</a></li>
		</ul>
	{%- endif %}

	{% if v.admin_level >= PERMS['ORGIES'] %}
		<h4>Orgies</h4>
		<ul>
			<li><a href="/chat/1/orgies">Schedule/Stop Orgy</a></li>
		</ul>
	{%- endif %}

	{% if v.admin_level >= PERMS['USE_ADMIGGER_THREADS'] or v.admin_level >= PERMS['MODERATE_PENDING_SUBMITTED_ASSETS'] or v.admin_level >= PERMS['UPDATE_ASSETS'] %}
		<h4>Add Stuff</h4>
		<ul>
			{% if v.admin_level >= PERMS['USE_ADMIGGER_THREADS'] %}
				{% if BADGE_THREAD %}
					<li><a href="/post/{{BADGE_THREAD}}">Add Badges</a></li>
				{% endif %}
				{% if SNAPPY_THREAD %}
					<li><a href="/post/{{SNAPPY_THREAD}}">Add Snappy Quotes</a></li>
				{% endif %}
			{% endif %}

			{% if v.admin_level >= PERMS['MODERATE_PENDING_SUBMITTED_ASSETS'] %}
				{% if FEATURES['ART_SUBMISSIONS'] -%}
					<li><a href="/submit/sidebar">Approve or Reject Sidebar Images</a></li>
					<li><a href="/submit/banners">Approve or Reject Banners</a></li>
				{% endif %}
				{% if FEATURES['EMOJI_SUBMISSIONS'] -%}
					<li><a href="/submit/emojis">Approve or Reject Emojis</a></li>
				{% endif %}
				{% if FEATURES['HAT_SUBMISSIONS'] -%}
					<li><a href="/submit/hats">Approve or Reject Hats</a></li>
				{% endif %}
			{% endif %}

			{% if v.admin_level >= PERMS['UPDATE_ASSETS'] %}
				<li><a href="/admin/update/emojis">Update Emojis</a></li>
				<li><a href="/admin/update/hats">Update Hats</a></li>
			{% endif %}
		</ul>
	{% endif %}

	<h4>Content</h4>
	<ul>
		{% if v.admin_level >= PERMS['ENABLE_DM_MEDIA'] %}
			<li><a href="/admin/dm_media">DM Media</a></li>
		{% endif %}
		<li><a href="/log">Moderation Log</a></li>
		{% if v.admin_level >= PERMS['POST_COMMENT_MODERATION'] %}
			<li><a href="/admin/image_posts">Image Posts</a></li>
			<li><a href="/admin/reported/posts">Reported Posts/Comments</a></li>
			<li><a href="/admin/removed/posts">Removed Posts/Comments</a></li>
		{% endif %}
	</ul>

	<h4>Users</h4>
	<ul>
		{% if v.admin_level >= PERMS['USER_SHADOWBAN'] %}
			<li><a href="/admin/shadowbanned">Shadowbanned Users</a></li>
		{% endif %}
		<li><a href="/banned">Banned Users</a></li>
		{% if FEATURES['AWARDS'] -%}
			<li><a href="/chuds">Chudded Users</a></li>
			<li><a href="/grassed">Currently Grassed Users</a></li>
		{%- endif %}
		{% if FEATURES['MARSEYBUX'] and v.admin_level >= PERMS['VIEW_PATRONS'] -%}
			<li><a href="/admin/patrons">Patrons</a></li>
		{%- endif %}
		{% if v.admin_level >= PERMS['VIEW_ACTIVE_USERS'] %}
			<li><a href="/admin/loggedin">Currently Logged-in Users</a></li>
			<li><a href="/admin/loggedout">Currently Logged-out Users</a></li>
		{% endif %}
	</ul>

	{% if v.admin_level >= PERMS['DELETE_MEDIA'] or v.admin_level >= PERMS['DOMAINS_BAN'] or v.admin_level >= PERMS['USER_LINK'] or v.admin_level >= PERMS['VIEW_ALT_VOTES'] or v.admin_level >= PERMS['CHANGE_UNDER_SIEGE'] %}
		<h4>Safety</h4>
		<ul>
			{% if v.admin_level >= PERMS['DELETE_MEDIA'] %}
				<li><a href="/admin/delete_media">Delete Media</a></li>
			{% endif %}
			{% if v.admin_level >= PERMS['DOMAINS_BAN'] %}
				<li><a href="/admin/banned_domains">Banned Domains</a></li>
			{% endif %}
			{% if v.admin_level >= PERMS['USER_LINK'] %}
				<li><a href="/admin/alts">View and Link Alts</a></li>
			{% endif %}
			{% if v.admin_level >= PERMS['VIEW_ALT_VOTES'] %}
				<li><a href="/admin/alt_votes">Alt Vote Analysis</a></li>
			{% endif %}
			{% if v.admin_level >= PERMS['CHANGE_UNDER_SIEGE'] %}
				<li><a href="/admin/under_siege">Under Siege Thresholds</a></li>
			{% endif %}
		</ul>
	{% endif %}

	{% if FEATURES['BADGES'] and v.admin_level >= PERMS['USER_BADGES'] -%}
		<h4>Badges</h4>
		<ul>
			<li><a href="/admin/badge_grant">Grant Badges</a></li>
			<li><a href="/admin/badge_remove">Remove Badges</a></li>
		</ul>
	{%- endif %}

	<h4>Statistics</h4>
	<ul>
		<li><a href="/stats">Statistics</a></li>
	</ul>

	{% if v.admin_level >= PERMS['EDIT_RULES'] or PERMS['HOLE_CREATE'] and v.admin_level >= PERMS['HOLE_CREATE'] or v.admin_level >= PERMS['APPS_MODERATION'] %}
		<h4>Configuration</h4>
		<ul class="pb-3">
			{% if v.admin_level >= PERMS['EDIT_RULES'] %}
				<li><a href="/admin/edit_rules">Edit the Rules</a></li>
			{%- endif %}
			{% if PERMS['HOLE_CREATE'] and v.admin_level >= PERMS['HOLE_CREATE'] %}
				<li><a href="/create_hole">Create Hole</a></li>
			{% endif %}
			{% if v.admin_level >= PERMS['APPS_MODERATION'] %}
				<li><a href="/admin/apps">Apps</a></li>
			{% endif %}
		</ul>
	{% endif %}

	{% if POLL_THREAD and v.admin_level >= PERMS['USE_ADMIGGER_THREADS'] %}
		<h4>Polls</h4>
		<ul class="pb-3">
			<li><a href="/post/{{POLL_THREAD}}">Hold Polls</a></li>
		</ul>
	{%- endif %}

	{% if v.admin_level >= PERMS['SITE_SETTINGS'] %}
		{% for setting in SITE_SETTINGS.keys() %}
			{% if not (setting == "offline_mode" and v.admin_level < PERMS["SITE_OFFLINE_MODE"]) %}
				<div class="custom-control custom-switch{% if loop.index > 1 %} mt-1{% endif %}" id="settings-{{setting}}-container">
					<input autocomplete="off" type="checkbox" class="custom-control-input" id="settings-{{setting}}-checkbox" {% if SITE_SETTINGS[setting] %}checked{% endif %} data-nonce="{{g.nonce}}" data-onchange="postToastSwitch(this, '/admin/site_settings/{{setting}}')" {% if setting == "under_attack" %}disabled{% endif %}>
					<label class="custom-control-label" for="settings-{{setting}}-checkbox">{{setting.replace('_', ' ').title()}}</label>
				</div>
			{% endif %}
		{% endfor %}
	{% endif %}

	{% if v.admin_level >= PERMS['SITE_CACHE_PURGE_CDN'] %}
		<button type="button" class="btn btn-primary" data-nonce="{{g.nonce}}" data-onclick="postToastSwitch(this,'/admin/clear_cloudflare_cache')" style="margin-bottom: 2em">CLEAR CLOUDFLARE CACHE</button>
	{% endif %}

	{% if v.admin_level >= PERMS['CLAIM_REWARDS_ALL_USERS'] %}
		<button type="button" class="btn btn-primary d-block" data-nonce="{{g.nonce}}" data-onclick="postToastSwitch(this,'/admin/claim_rewards_all_users')" style="margin-bottom: 2em">CLAIM {{patron.upper()}} REWARDS FOR ALL USERS</button>
	{% endif %}
{% endblock %}
