{% extends "default.html" %}
{% block pagetitle %}DM Images{% endblock %}
{% block content %}
<h2>DM Images</h2>
<div class="overflow-x-auto">
	<table class="table table-striped mb-5">
		<thead class="bg-primary text-white">
			<tr>
				<th>Image</th>
				<th>Sender</th>
				<th>Sent To</th>
				<th>At</th>
			</tr>
		</thead>

		{% for item in items %}
			<tr>
				<td>
					<a href="{{item[0]}}" target="_blank">
						<img alt="![]({{item[0]}})" src="{{item[0]}}" loading="lazy" class="dm_img">
					</a>
				</td>
				<td>
					{% if item[1] != "Unknown" %}
						<a href="/id/{{item[2]}}">
							<img loading="lazy" src="/pp/{{item[2]}}">
							@{{item[1]}}
						</a>
					{% endif %}
				</td>
				<td>
					{% if item[1] != "Unknown" %}
						{% if item[3] == "Modmail" %}
							Modmail
						{% else %}
							<a href="/id/{{item[4]}}">
								<img loading="lazy" src="/pp/{{item[4]}}">
								@{{item[3]}}
							</a>
						{% endif %}
					{% endif %}
				</td>
				<td {% if item[5] %}data-time="{{item[5]}}"{% endif %}></td>
			</tr>
		{% endfor %}
	</table>
</div>
{% endblock %}

{% block pagenav %}
<nav>
	<ul class="pagination pagination-sm py-3 pl-3 mb-0">
		{% if page>1 %}
		<li class="page-item">
			<small><a class="page-link" href="?page={{page-1}}" tabindex="-1">Prev</a></small>
		</li>
		{% else %}
		<li class="page-item disabled"><span class="page-link">Prev</span></li>
		{% endif %}
		{% if next_exists %}
		<li class="page-item">
			<small><a class="page-link" href="?page={{page+1}}">Next</a></small>
		</li>
		{% else %}
		<li class="page-item disabled"><span class="page-link">Next</span></li>
		{% endif %}
	</ul>
</nav>
{% endblock %}
