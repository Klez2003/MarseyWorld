{% extends "default.html" %}

{% block pagetitle %}Orgy Control Panel{% endblock %}

{% block content %}
<div class="row my-5">
	<div class="col">
		<div class="settings mx-3">
			<div id="description">
				<h2>Orgy Control Panel</h2>
				<span class="text-lg">Guide <a rel="nofollow noopener" href="https://rdrama.net/@HeyMoonster/wall/comment/5163373#context">here</a></span>
			</div>
			<div class="body d-lg-flex">
				<div class="w-lg-100">
					{% if not orgy %}
						<form id="orgy" action="/admin/schedule_orgy" method="post">
							<div class="d-lg-flex border-bottom mt-5">
								<div class="title w-lg-25">
									<label for="title">Title</label>
								</div>
								<div class="body w-lg-100">
									<input id="title" autocomplete="off" type="text" name="title" class="form-control">
								</div>
							</div>
							<div class="d-lg-flex border-bottom mt-3">
								<div class="title w-lg-25">
									<label for="link">Link (youtube, twitch, rumble, mp4 file)</label>
								</div>
								<div class="body w-lg-100">
									<input id="link" autocomplete="off" type="text" name="link" class="form-control">
								</div>
							</div>
							<div class="d-lg-flex border-bottom mt-3">
								<div class="title w-lg-25">
									<label for="start_utc">Start time (as an <a rel="nofollow noopener" href="https://epochconverter.com">epoch timestamp</a>)</label>
								</div>
								<div class="body w-lg-100">
									<input id="start_utc" autocomplete="off" type="number" step="any" name="start_utc" max="2147483647" class="form-control" placeholder="Leave blank to start orgy now">
								</div>
							</div>
							<div class="d-lg-flex border-bottom mt-3">
								<div class="title w-lg-25">
									<label for="duration">Duration (in seconds)</label>
								</div>
								<div class="body w-lg-100">
									<input id="duration" autocomplete="off" type="number" step="any" name="duration" max="2147483647" class="form-control" placeholder="Optional">
								</div>
							</div>
							<input hidden name="formkey" value="{{v|formkey}}">
							<div class="d-flex mt-3">
								<input id="start-orgy" autocomplete="off" class="btn btn-primary ml-auto" type="submit" value="Schedule Orgy">
							</div>
						</form>
					{% else %}
						<form id="orgy" action="/admin/stop_orgy" method="post" data-nonce="{{g.nonce}}" data-onsubmit="sendFormXHRReload(this)">
							<input hidden name="formkey" value="{{v|formkey}}">
							<div class="d-flex mt-2">
								<input autocomplete="off" class="btn btn-primary ml-auto" type="submit" value="Stop Orgy">
							</div>
						</form>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
